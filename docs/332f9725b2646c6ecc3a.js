(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{132:function(t,o,a){"use strict";(function(t){a(37),a(1),a(3),a(4),a(139);var n={};n=a(140),o.a={data:function(){return{location:[53,26],locationMarker:null,zoom:5,markers:[],map:null,style:{map:{height:"100%"}}}},watch:{markers:function(t,o){window.localStorage.setItem("leaflet:markers",JSON.stringify(t))},location:{handler:"_setLocationMarker"}},methods:{locate:function(){var t=this,o=this.map;o.locate({enableHighAccuracy:!0,timeout:6e4}).once("locationfound",function(a){t.location=[a.latlng.lat,a.latlng.lng],t.zoom=12,o.setView(t.location,t.zoom)}).once("locationerror",function(t){console.error("locationerror",t)})},_setLocationMarker:function(){if(!this.locationMarker){var t=new n.Icon({iconUrl:"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png",iconSize:[50,50]});this.locationMarker=new n.Marker(this.location,{icon:t}).addTo(this.map)}this.locationMarker.setLatLng(this.location)}},mounted:function(){var o=this;this.markers=JSON.parse(window.localStorage.getItem("leaflet:markers")||"[]");var a=new n.map(this.$refs.map,{zoomControl:!1,attributionControl:!1});this.map=a,a.setView(this.location,this.zoom),t(function(){o.locate()});n.control.attribution({position:"bottomright",prefix:"Drink&Piss"}).addTo(a),n.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.{ext}",{attribution:"Powered by OpenStreetMaps",minZoom:1,maxZoom:16,ext:"png"}).addTo(a);var e=new n.Icon({iconUrl:"/img/water-drop.png",iconSize:[50,50]});this.markers.forEach(function(t){new n.Marker(t,{icon:e}).addTo(a)}),a.on("click",function(t){var n=[t.latlng.lat,t.latlng.lng];o.markers.push(n),new L.Marker([t.latlng.lat,t.latlng.lng],{icon:e}).addTo(a)})}}}).call(this,a(85).setImmediate)},134:function(t,o,a){var n=a(148);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(40).default)("411e5110",n,!0,{sourceMap:!1})},147:function(t,o,a){"use strict";var n=a(134);a.n(n).a},148:function(t,o,a){(t.exports=a(39)(!1)).push([t.i,"\n.map[data-v-62c142f0]{width:100%;height:100%;max-height:100vh;z-index:0\n}\n.locate[data-v-62c142f0],.map[data-v-62c142f0]{position:absolute\n}\n.locate[data-v-62c142f0]{overflow:hidden;width:3rem;height:3rem;left:1.5rem;bottom:1.5rem;top:calc(100% - 4.5em);z-index:99;background-color:#fff;border-radius:50%;background-image:url(https://cdn3.iconfinder.com/data/icons/transport-3-8/128/Location-Auto-Locate-Current-Location-Geo-512.png);background-size:2rem;background-position:.5rem .5rem;background-repeat:no-repeat\n}",""])},151:function(t,o,a){"use strict";a.r(o);var n=a(132).a,e=(a(141),a(147),a(20)),i=Object(e.a)(n,function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"wrapper"},[o("div",{ref:"map",staticClass:"map"}),o("div",{staticClass:"locate",on:{click:this.locate}})])},[],!1,null,"62c142f0",null);i.options.__file="map.vue";o.default=i.exports}}]);