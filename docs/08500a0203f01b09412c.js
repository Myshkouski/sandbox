(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{133:function(t,o,n){"use strict";(function(t){n(38),n(1),n(2),n(3);var a={};a=n(140),o.a={data:function(){return{location:[53,26],locationMarker:null,zoom:5,markers:[],map:null}},watch:{markers:function(t,o){window.localStorage.setItem("leaflet:markers",JSON.stringify(t))},location:{handler:"_setLocationMarker"}},methods:{locate:function(){var t=this,o=this.map;o.locate({enableHighAccuracy:!0,timeout:6e4}).once("locationfound",function(n){t.location=[n.latlng.lat,n.latlng.lng],t.zoom=12,o.setView(t.location,t.zoom)}).once("locationerror",function(t){console.error("locationerror",t)})},_setLocationMarker:function(){if(!this.locationMarker){var t=new a.Icon({iconUrl:"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png",iconSize:[50,50]});this.locationMarker=new a.Marker(this.location,{icon:t}).addTo(this.map)}this.locationMarker.setLatLng(this.location)}},mounted:function(){var o=this;this.markers=JSON.parse(window.localStorage.getItem("leaflet:markers")||"[]");var n=new a.map(this.$refs.map,{zoomControl:!1,attributionControl:!1});this.map=n,n.setView(this.location,this.zoom),t(function(){o.locate()});a.control.attribution({position:"bottomright",prefix:"Drink&Piss"}).addTo(n),a.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.{ext}",{attribution:"Powered by OpenStreetMaps",minZoom:1,maxZoom:16,ext:"png"}).addTo(n);var e=new a.Icon({iconUrl:"/img/water-drop.png",iconSize:[50,50]});this.markers.forEach(function(t){new a.Marker(t,{icon:e}).addTo(n)}),n.on("click",function(t){var a=[t.latlng.lat,t.latlng.lng];o.markers.push(a),new L.Marker([t.latlng.lat,t.latlng.lng],{icon:e}).addTo(n)})}}}).call(this,n(86).setImmediate)},135:function(t,o,n){var a=n(148);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(40).default)("2c159072",a,!0,{sourceMap:!1})},147:function(t,o,n){"use strict";var a=n(135);n.n(a).a},148:function(t,o,n){(t.exports=n(39)(!1)).push([t.i,"\n.map[data-v-2cb023b6]{position:relative;height:100vh;z-index:0\n}\n.locate[data-v-2cb023b6]{position:absolute;overflow:hidden;width:3rem;height:3rem;left:1.5rem;bottom:1.5rem;z-index:99;background-color:#fff;border-radius:50%;background-image:url(https://cdn3.iconfinder.com/data/icons/transport-3-8/128/Location-Auto-Locate-Current-Location-Geo-512.png);background-size:2rem;background-position:.5rem .5rem;background-repeat:no-repeat\n}",""])},151:function(t,o,n){"use strict";n.r(o);var a=n(133).a,e=(n(141),n(147),n(20)),i=Object(e.a)(a,function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"root"},[o("div",{ref:"map",staticClass:"map"}),o("div",{staticClass:"locate",on:{click:this.locate}})])},[],!1,null,"2cb023b6",null);i.options.__file="map.vue";o.default=i.exports}}]);